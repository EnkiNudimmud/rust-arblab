# Docker Compose for Production Mode (With Authentication)
services:
  lab:
    build: .
    container_name: hft-lab-prod
    ports:
      - "8501:8501"
    volumes:
      - .:/app
      - ./api_keys.properties:/app/api_keys.properties:ro
      - ./.streamlit/secrets.toml:/app/.streamlit/secrets.toml:ro
    environment:
      - PYTHONPATH=/app
      - ENABLE_AUTH=true
    command: ["streamlit", "run", "app/HFT_Arbitrage_Lab.py", "--server.port", "8501", "--server.headless", "true"]
    restart: unless-stopped
